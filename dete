import cv2
import pyttsx3
from ultralytics import YOLO
import time
import detection

model = YOLO("yolo11n.pt")
cap = cv2.VideoCapture(0)

def text():
    ret, frame = cap.read()
    results = model.predict(source=frame, verbose=False,)
    annotated_frame = results[0].plot()
    cv2.imshow('YOLO Detection', annotated_frame)
    cv2.waitKey(1)
    objects = []
    for box in results[0].boxes:
        name = results[0].names[int(box.cls)]
        objects.append(name)
    
    return " ".join(set(objects)).lower() if objects else ""
